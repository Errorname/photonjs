datasource db {
    provider = "postgres"
    // Like, postgres://user:password@localhost:5432/database/schema
    url      = env("POSTGRES_URL")
}

generator photon {
    provider       = "photonjs"
    // Because we need to bundle functions manually (zip file), we need to move Photon out of node_modules
    output         = "./functions/generated/photon"
    platforms      = ["native", "linux-glibc-libssl1.0.2"]
    pinnedPlatform = env("PLATFORM")
}

model User {
    id    String  @default(cuid()) @id @unique
    email String  @unique
    name  String?
    posts Post[]
}

model Post {
    id        String   @default(cuid()) @id @unique
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    published Boolean
    title     String
    content   String?
    author    User?
}